## Browserstack
[Browserstack](https://www.browserstack.com) — индийская облачная платформа для мобильного тестирования и веб-тестирования. Сервис предоставляет удаленный доступ к мобильным гаджетам на Android и iOS. Browserstack платный, но есть пробные тарифы, которых должно хватить для базовых задач.

На главной странице нас интересуют два последних раздела. App Live предназначен для запуска устройства и ручного взаимодействия, а App Automate для автоматизации.

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les21/21-1.png)

Нажмем App Live и попробуем запустить удаленное Android-устройство в браузере. На странице регистрации нажимаем Get started free и проходим пошаговую процедуру регистрации. Если вы работаете с macOS, то важно учесть, что сервис не работает с браузером Safari. Поэтому следует перейти в Chrome или Firefox.

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les21/21-2.png)

Таким образом выглядит страница выбора устройства. Для запуска доступна коллекция гаджетов на базе Android и iOS. Выбираем смартфон на Android и в окне запустится сам гаджет. С ним можно будет взаимодействовать как с физическим устройством. 

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les21/21-3.png)

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les21/21-4.png)

Если перейти в раздел Inspect и нажать кнопку Play, то запустится режим инспектора элементов и можно будет изучить окно приложения более детально, получив подробную информацию о каждом элементе. Также можно получить имена локаторов.

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les21/21-5.png)

## Пишем мобильные автотесты. Создаем проект в Browserstack
1. Создаем репозиторий проекта, добавляем `.gitignore` и открываем репозиторий на своем компьютере с помощью IDEA.
2. Переходим на главную страницу [Browserstack](https://www.browserstack.com) и выбираем карточку App Automate.
3. Нажимаем Get Started Free и далее выбираем Python.

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les21/21-6.png)

Нас встретит краткая документация по развертыванию проекта на платформе.

## Запускаем пример теста от разработчиков Browserstack
После авторизации и создания проекта Browserstack предложит готовый код для запуска примера теста. Этот код также можно получить в [GitHub-репозитории](https://github.com/browserstack/python-appium-app-browserstack/blob/master/android/browserstack_sample.py) проекта.

После этого необходимо создать проект, скопировать в него код примера из репозитория и установить зависимости. Требуемые для запуска зависимости можно посмотреть в том же репозитории в файле [requirements.txt](https://github.com/browserstack/python-appium-app-browserstack/blob/master/requirements.txt).

Далее в коде примера необходимо заполнить поля с уникальными данными пользователя. Получить их можно на странице Browserstack во вкладке Access Key.

После этого надо заменить данные в коде на полученные:
```python
"app" : "bs://<app-id>",
"userName" : "YOUR_USERNAME",
"accessKey" : "YOUR_ACCESS_KEY"
```

Когда все настройки выполнены, тест можно запустить из IDE, перейти в Browserstack и наблюдать за прохождением теста в реальном времени.

## Отличие для iOS
Тесты для iOS через Browserstack практически идентичны с Android. Единственным отличием является набор опций в коде (их больше) и имена селекторов (значения селекторов такие же). 
