# Git 
**Git** — система управления версиями с распределенной архитектурой. Можно считать лидером в области ПО для контроля версий. Главным отличием от некогда популярных CVS и SVN является именно распределенная архитектура. Если раньше единственная версия проекта и вся история изменений хранилась исключительно в одном месте, то с приходом Git каждая рабочая версия стала полноценным репозиторием. Это позволяет каждому участнику проекта локально хранить всю историю изменений и код.

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/git-and-svn.png)

Предполагается, что на вышей машине уже установлен Git, вы уже попробовали клонировать репозиторий и выполнили первое домашнее задание. Если нет, то по этой [ссылке](https://github.com/qa-guru/getting-started/wiki/3.-%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-Git) можно посмотреть инструкцию по установке Git, а по [этой](https://github.com/qa-guru/getting-started/wiki/5.-%D0%9A%D0%BB%D0%BE%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8%D0%B7-github) по клонированию репозиториев.

> **Полезно:** Маленькая [шпаргалка](https://github.com/qa-guru/knowledge-base/blob/main/resources/git-cheat-sheet.pdf) по основным командам Git от команды GitHub Education.

# GitHub

## Знакомство с сервисом

**[GitHub](https://github.com/)** — один из самых крупных и популярных сервисов для хостинга IT-проектов и совместной работы над ними. GitHub построен на базе Git, а значит поддерживает всего его функции. Кроме основных функций в GitHub есть и другие, добавленные разработчиками сервиса: контроль доступа к коду, базы знаний, управление задачами, интеграцию с другими сервисами, запросы на принятия изменений и другие. Кроме GitHub есть и другие сервисы онлайн-хостинга репозиториев: GitLab и Bitbucket.

Интерфейс GitHub выглядит следующим образом:

<details><summary><b>Скриншоты (нажать, чтобы раскрыть)</b></summary>
    <img src="https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_1.png"></img>
    <img src="https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_2.png"></img>
</details>

На первом скриншоте: 

1. **Блок с информацией о пользователе:** аватар, имя пользователя, никнейм, поле   «О себе», количество подписчиков и подписок, место работы, локация, адрес электронной почты, ссылка на сайт (еще можно добавить ссылку на Twitter), значки сообщества и список организаций.
2. **Панель переключения вкладок:** 
    - Overview — просмотр главной страницы профиля (то, что на скриншоте);
    - Repositories — список репозиториев пользователя;
    - Projects — своеобразный планировщик задач, привязанный к GitHub. Пока доступен в бете;
    - Packages — вкладка с пакетами, опубликованными пользователем;
    - Stars — репозитории, отмеченные «звездочкой». В GitHub можно ставить «звездочки» чужим репозиториям. К примеру, если нашли интересный проект и хотите позже предложить разработчикам свои идеи или просто установить, то можно отметить его «звездочкой», тогда он появится в этой вкладке.
3. **Кастомизируемый блок с информацией:** это опциональный блок, при желании можно оформить небольшое подобие резюме с основными данными и проектами. Для работы с функционалом есть полная поддержка Markdown и поддержка основных HTML-тегов. Если не оформлять эту часть, то на ее месте будет блок с популярными репозиториями пользователя. 


На втором скриншоте (если пролистать страницу профиля ниже):
1. **Блок с закрепленными репозиториями:** GitHub позволяет закрепить на главной странице профиля до шести репозиториев, они будут сразу видны всем посетителям страницы.
2. **Количество вкладов в репозитории за год:** в поле выводится общее количество вкладов и график активности по дням. Каждый квадрат — один день. Чем он зеленее, тем больше вкладов было сделано в этот день.
3. **Описание вкладов:** в этом блоке доступна информация по вкладам в репозитории за все года. Можно смотреть, что делал пользователь в каждый из месяцев, в какие репозитории и что коммитил.


## Генерация открытого SSH-ключа

Git-сервисы используют аутентификацию по открытым SSH-ключам. Это упрощает доступ к удаленным репозиториям и освобождает от необходимости каждый раз вводить логин и пароль. 

Сперва следует проверить нет ли уже сгенерированного SSH-ключа, который можно использовать. Процесс идентичен во всех ОС. Все пользовательские SSH-ключи по умолчанию хранятся в каталоге `~/.ssh`. Поэтому перейдем в него и проверим содержимое:

```bash
$ cd ~/.ssh 
$ ls
known_hosts
```
Файлы `id_dsa` или `id_rsa` и есть то, что нам нужно. Файлы с расширением `.pub` — открытые ключи, остальные — приватные. Если файлов нет или даже нет каталога `.ssh` (в нашем примере каталог есть, а вот файлов нет), то все это можно сгенерировать.

Для этого можно воспользоваться утилитой `ssh-keygen`. На macOS и Linux она является частью пакета SSH, а на Windows поставляется вместе с Git:

```bash
$ ssh-keygen -o
Generating public/private rsa key pair.
Enter file in which to save the key (/home/daniilshat/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/daniilshat/.ssh/id_rsa
Your public key has been saved in /home/daniilshat/.ssh/id_rsa.pub
The key fingerprint is:
SHA256:Eep/BjjzpZzyiNhXNLTlLbmOQhTeAsg2HFigZ1+yku8 daniilshat@workstation
The key's randomart image is:
+---[RSA 3072]----+
|.*oo    .        |
|o * . .....      |
|..o..oo+.+ o     |
| o o =+.=.+ .    |
|  o o.=oS..o     |
|   o  .*.=.      |
|    ....*oo      |
|   + .o+.o.      |
|  . E....        |
+----[SHA256]-----+
```
Сперва система предложит директорию для сохранения по умолчанию, проверьте, чтобы было предложено сохранить в `.../.ssh/id_rsa`. Если вдруг будет что-то другое (это маловероятно), укажите верный путь. Далее утилита попросит ввести пароль для приватного ключа и повторить его. А потом выдаст сообщение об успешной генерации.

Открытый SSH-ключ выглядит вот таким образом:

```bash
$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDV5eqahOIl2Dn+YZmsKZ7OcjxvjN6TIcsGiKIcXHgxVQ+oM3vGY6E2vZxJ+hCpYYdESTjytGILgbfLBMj5cRjxczzvIUqfjumwF8goPDA/po9gUV5BFLxd4vopIPCFTK1X2MW6aLV+30xAvNjP9OR0bvNGA6/Ib8kbNZcMRlXLResEkjiz/KmAcINhbOUkh5NEhhx7kVV/LaEQyltJ/azdiLtFcE4zom5nl1F9hL+nZyvr+0sVYcsgJvIKiWjhL2pQCiZgamo+lBJwoBdKnjGHmMtsZ4u/Sc2rG2eVRe8HKAqJRVFmbzDojuuE1iGZFJAZ1dK0cMprHKFkanzgPl95N2AnRfmrCtsRdviFhGPqPm6LKDxMFfyKDvZV2jayrwtFNCk5ey01VQR4l1YjuCijCAhYaoVUItVe8T31oV1DOejQVBkntiuk2ks6gcTWua4PvnB8vN6Xo/WOwVrCd9VJLlQEX98CnElqnlJ117kJM9TvRIFzwsrDz7KuQZT6OhM= daniilshat@workstation
```

## Добавление SSH-ключа в GitHub

Далее необходимо добавить сгенерированный SSH-ключ в GitHub. Для этого переходим в свой профиль. В правом верхнем углу кликаем на миниатюру со своей аватаркой и в открывшемся меню переходим в пункт «Settings».

<details><summary><b>Скриншот (нажать, чтобы раскрыть)</b></summary>
    <img src="https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_5.png"></img>
</details>

На открывшейся странице переходим в «SSH and GPG keys».

<details><summary><b>Скриншот (нажать, чтобы раскрыть)</b></summary>
    <img src="https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_6.png"></img>
</details>

Нажимаем на кнопку «New SSH key».

<details><summary><b>Скриншот (нажать, чтобы раскрыть)</b></summary>
    <img src="https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_7.png"></img>
</details>

На открывшейся странице:
- В «Title» введите какое-то название ключа или его идентификатор. К примеру, название машины на которой вы создали ключ и собираетесь работать (Пример: Home MacBook Air);
- в поле «Key» вставьте сам сгенерированный ключ;
- Нажмите «Add SSH key».

<details><summary><b>Скриншот (нажать, чтобы раскрыть)</b></summary>
    <img src="https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_8.png"></img>
</details>

Далее GitHub попросить ввести пароль от аккаунта и добавит ключ, а на почту придет уведомление о том, что все прошло успешно. Страница с ключами будет выглядеть вот так:

<details><summary><b>Скриншот (нажать, чтобы раскрыть)</b></summary>
    <img src="https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_9.png"></img>
</details>

## Создание репозитория

Для создания репозитория необходимо перейти во вкладку «Repositories» и нажать на зеленую кнопку `New`.

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_3.png)

На открывшейся странице необходимо:

<details><summary><b>Скриншот (нажать, чтобы раскрыть)</b></summary>
    <img src="https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/les2/gh_4.png"></img>
</details>

1. Указать имя репозитория;
2. Добавить описание (необязательно);
3. Выбрать настройки приватности (публичный репозиторий или приватный);
4. Добавить `README.md`, `.gitignore` и выбрать лицензию.
5. Нажать зеленую кнопку «Create repository».
