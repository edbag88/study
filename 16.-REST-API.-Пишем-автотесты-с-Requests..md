**REST API (Representational State Transfer API)** — способ взаимодействия сайтов и веб-приложений с сервером.

### Какое место в архитектуре занимает API
API буквально связывают клиентскую и серверную часть веб-приложения и помогают быстрее и эффективнее обращаться к серверу. Все пользовательские запросы выполняются через API. Каждый клик на сайте, каждая заполненная форма отправляет запрос к серверу через API, возвращает запрошенные данные и код ответа.

![](https://raw.githubusercontent.com/qa-guru/knowledge-base/main/img/python/les16/les16-1.png)

### Для чего нужны тесты на REST API

С помощью REST API кодовая база тестов получается более стабильной и помогает выполнять их быстрее. Также во время выполнения тестов на REST API машине не приходится каждый раз открывать окно браузера, что положительно сказывается на производительности.

К примеру, тест странице авторизации может быть основан на использовании UI приложения. В таком случае для каждого шага теста необходимо будет использовать элементы веб-страницы и вводить данные пользователя. Также во время выполнения теста системе надо будет открыть браузер для запуска тестов. С помощью тестов на REST API нет необходимости в использовании элементов страницы и для запуска можно обойтись без браузера.

### Методы HTTP запроса
Основные методы HTTP запроса (более подробно можно ознакомиться в [документации](https://developer.mozilla.org/ru/docs/Web/HTTP/Methods) на русском языке):
- `GET` — запрашивает ресурс (может только извлекать данные);
- `HEAD` — запрашивает ресурс без тела ответа;
- `POST` — отправляет сущности ресурсу;
- `PUT` — заменяет сущности ресурса данными запроса;
- `DELETE` — удаляет ресурс;
- `CONNECT` — устанавливает соединение к серверу;
- `OPTIONS` — описывает параметры соединения с сервером;
- `TRACE` — вызывает возвращаемое тестовое сообщения с сервера;
- `PATCH` — частично изменяет ресурс.

### Коды ответа HTTP
Коды ответа помогают определить успешность совершённого запроса. Коды ответа делятся на пять групп:
- Информационные — 100-199; 
- Успешные — 200-299;
- Перенаправления — 300-399;
- Клиентская ошибка — 400-499;
- Серверная ошибка — 500-599.

Наиболее популярные коды ответов:
- `200` — запросы успешно выполнен;
- `202` — запрос принят, но ещё не обработан;
- `400` — «плохой запрос», сервер не понял запрос, скорее ошибка в синтаксисе запроса;
- `401` — для получения ответа необходимо пройти авторизацию;
- `403` — уровень прав клиента не позволяет получить ему содержимое ответа;
- `404` — сервер не может найти запрашиваемый ресурс;
- `500` — внутренняя ошибка сервера, сервер не знает как обработать запрос;
- `502` — сервер получил недействительный ответ;
- `503` — сервер не готов принять запрос, сервер выключен или перегружен.

Все коды ответов HTTP можно изучить в официальной русскоязычной [документации](https://developer.mozilla.org/ru/docs/Web/HTTP/Status).

### Структура проекта с тестами
Проекты с тестами обычно придерживаются следующей структуры:

```
project
└── tests
    ├── microservice_name
    |   ├── test_dog_facts.py
    |   └── ...
    ├── microservice_name
    |   ├── test_cat_facts.py
    |   └── ...
    └── monolith
        └── ...
```
